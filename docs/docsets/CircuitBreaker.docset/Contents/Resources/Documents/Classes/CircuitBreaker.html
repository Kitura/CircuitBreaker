<!DOCTYPE html>
<html lang="en">
  <head>
    <title>CircuitBreaker Class Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset="utf-8">
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
    <script src="../js/lunr.min.js" defer></script>
    <script src="../js/typeahead.jquery.js" defer></script>
    <script src="../js/jazzy.search.js" defer></script>
  </head>
  <body>

    <a name="//apple_ref/swift/Class/CircuitBreaker" class="dashAnchor"></a>

    <a title="CircuitBreaker Class Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="../index.html">
          CircuitBreaker Docs
        </a>
         (100% documented)
      </p>
    
      <p class="header-col--secondary">
        <form role="search" action="../search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/IBM-Swift/CircuitBreaker">
            <img class="header-icon" src="../img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="../index.html">CircuitBreaker Reference</a>
      <img class="carat" src="../img/carat.png" />
      CircuitBreaker Class Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/CircuitBreaker.html">CircuitBreaker</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Invocation.html">Invocation</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Stats.html">Stats</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/State.html">State</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/Date.html">Date</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/StatsMonitor.html">StatsMonitor</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/StatsProvider.html">StatsProvider</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/BreakerError.html">BreakerError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/Snapshot.html">Snapshot</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content">
            <h1>CircuitBreaker</h1>
              <div class="declaration">
                <div class="language">
                  <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">class</span> <span class="kt">CircuitBreaker</span><span class="o">&lt;</span><span class="kt">A</span><span class="p">,</span> <span class="kt">B</span><span class="o">&gt;</span></code></pre>

                </div>
              </div>
            <p>CircuitBreaker enables you to use Circuit Breaker logic in your Swift applications.</p>

<ul>
<li>A: Parameter types used in the arguments for the command closure.</li>
<li>B: Parameter type used as the second argument for the fallback closure.</li>
</ul>
<h3 id='usage-example' class='heading'>Usage Example:</h3>

<p>The example below shows how to create a <code>CircuitBreaker</code> instance for each context
function (e.g. endpoint) you wish to circuit break. You need to give the CircuitBreaker instance a name,
create a context function for the endpoint you intend to circuit break (<code>myContextFunction</code> in the example
below) and define a fallback function (<code>myFallback</code> in the example below) to call if there are timeouts
or user defined failures occur.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">breaker</span> <span class="o">=</span> <span class="kt">CircuitBreaker</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"Circuit1"</span><span class="p">,</span> <span class="nv">command</span><span class="p">:</span> <span class="n">myContextFunction</span><span class="p">,</span> <span class="nv">fallback</span><span class="p">:</span> <span class="n">myFallback</span><span class="p">)</span>
</code></pre>

<p>For a more complete example see the
<a href="https://github.com/IBM-Swift/CircuitBreaker">CircuitBreaker README</a>.</p>

          </div>
        </section>

        <section class="section">
          <div class="section-content">
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Closure%20Aliases"></a>
                <a name="//apple_ref/swift/Section/Closure Aliases" class="dashAnchor"></a>
                <a href="#/Closure%20Aliases">
                  <h3 class="section-name">Closure Aliases</h3>
                </a>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14CircuitBreakerAAC18AnyContextFunctiona"></a>
                    <a name="//apple_ref/swift/Alias/AnyContextFunction" class="dashAnchor"></a>
                    <a class="token" href="#/s:14CircuitBreakerAAC18AnyContextFunctiona">AnyContextFunction</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The context function that runs using the given arguments of generic type A.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">typealias</span> <span class="kt">AnyContextFunction</span><span class="o">&lt;</span><span class="kt">A</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">(</span><span class="kt"><a href="../Classes/Invocation.html">Invocation</a></span><span class="o">&lt;</span><span class="kt">A</span><span class="p">,</span> <span class="kt">B</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14CircuitBreakerAAC11AnyFallbacka"></a>
                    <a name="//apple_ref/swift/Alias/AnyFallback" class="dashAnchor"></a>
                    <a class="token" href="#/s:14CircuitBreakerAAC11AnyFallbacka">AnyFallback</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The fallback function that runs when the invocation fails.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">typealias</span> <span class="kt">AnyFallback</span><span class="o">&lt;</span><span class="kt">B</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">(</span><span class="kt"><a href="../Structs/BreakerError.html">BreakerError</a></span><span class="p">,</span> <span class="kt">B</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Public%20Fields"></a>
                <a name="//apple_ref/swift/Section/Public Fields" class="dashAnchor"></a>
                <a href="#/Public%20Fields">
                  <h3 class="section-name">Public Fields</h3>
                </a>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14CircuitBreakerAAC4nameSSvp"></a>
                    <a name="//apple_ref/swift/Property/name" class="dashAnchor"></a>
                    <a class="token" href="#/s:14CircuitBreakerAAC4nameSSvp">name</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Name of the CircuitBreaker instance.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">private(set)</span> <span class="k">var</span> <span class="nv">name</span><span class="p">:</span> <span class="kt">String</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14CircuitBreakerAAC5groupSSSgvp"></a>
                    <a name="//apple_ref/swift/Property/group" class="dashAnchor"></a>
                    <a class="token" href="#/s:14CircuitBreakerAAC5groupSSSgvp">group</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Name of the CircuitBreaker group.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">private(set)</span> <span class="k">var</span> <span class="nv">group</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14CircuitBreakerAAC7timeoutSivp"></a>
                    <a name="//apple_ref/swift/Property/timeout" class="dashAnchor"></a>
                    <a class="token" href="#/s:14CircuitBreakerAAC7timeoutSivp">timeout</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Execution timeout for the command context, that is, the time in milliseconds that your function must
complete within before the invocation is considered a failure. Default value is 1000 milliseconds.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">let</span> <span class="nv">timeout</span><span class="p">:</span> <span class="kt">Int</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14CircuitBreakerAAC12resetTimeoutSivp"></a>
                    <a name="//apple_ref/swift/Property/resetTimeout" class="dashAnchor"></a>
                    <a class="token" href="#/s:14CircuitBreakerAAC12resetTimeoutSivp">resetTimeout</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Timeout to reset the circuit, that is, the time in milliseconds to wait before resetting the circuit
to half open state. Default value is 6000 milliseconds.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">let</span> <span class="nv">resetTimeout</span><span class="p">:</span> <span class="kt">Int</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14CircuitBreakerAAC11maxFailuresSivp"></a>
                    <a name="//apple_ref/swift/Property/maxFailures" class="dashAnchor"></a>
                    <a class="token" href="#/s:14CircuitBreakerAAC11maxFailuresSivp">maxFailures</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Number of failures allowed within <code><a href="../Classes/CircuitBreaker.html#/s:14CircuitBreakerAAC13rollingWindowSivp">rollingWindow</a></code> before setting the circuit state to open.
Default value is 5.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">let</span> <span class="nv">maxFailures</span><span class="p">:</span> <span class="kt">Int</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14CircuitBreakerAAC13rollingWindowSivp"></a>
                    <a name="//apple_ref/swift/Property/rollingWindow" class="dashAnchor"></a>
                    <a class="token" href="#/s:14CircuitBreakerAAC13rollingWindowSivp">rollingWindow</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Time window in milliseconds within which the maximum number of failures must occur to trip the circuit.
For instance, say <code><a href="../Classes/CircuitBreaker.html#/s:14CircuitBreakerAAC11maxFailuresSivp">maxFailures</a></code> is 5 and <code>rollingWindow</code> is 10000 milliseconds. In such a case, for the
circuit to trip, 5 invocation failures must occur in a time window of 10 seconds, even if these failures
are not consecutive. Default value is 10000 milliseconds.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">let</span> <span class="nv">rollingWindow</span><span class="p">:</span> <span class="kt">Int</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14CircuitBreakerAAC12breakerStatsAA0D0Cvp"></a>
                    <a name="//apple_ref/swift/Property/breakerStats" class="dashAnchor"></a>
                    <a class="token" href="#/s:14CircuitBreakerAAC12breakerStatsAA0D0Cvp">breakerStats</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Instance of Circuit Breaker statistics.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">let</span> <span class="nv">breakerStats</span> <span class="o">=</span> <span class="kt"><a href="../Classes/Stats.html">Stats</a></span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14CircuitBreakerAAC12breakerStateAA0D0Ovp"></a>
                    <a name="//apple_ref/swift/Property/breakerState" class="dashAnchor"></a>
                    <a class="token" href="#/s:14CircuitBreakerAAC12breakerStateAA0D0Ovp">breakerState</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The Circuit Breaker&rsquo;s current state.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">private(set)</span> <span class="k">var</span> <span class="nv">breakerState</span><span class="p">:</span> <span class="kt"><a href="../Enums/State.html">State</a></span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Initializers"></a>
                <a name="//apple_ref/swift/Section/Initializers" class="dashAnchor"></a>
                <a href="#/Initializers">
                  <h3 class="section-name">Initializers</h3>
                </a>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14CircuitBreakerAACAByxq_GSS4name_SSSg5groupSi7timeoutSi12resetTimeoutSi11maxFailuresSi13rollingWindowSi8bulkheadyAA10InvocationCyxq_Gc7commandyAA0B5ErrorV_q_tc8fallbacktcfc"></a>
                    <a name="//apple_ref/swift/Method/init(name:group:timeout:resetTimeout:maxFailures:rollingWindow:bulkhead:command:fallback:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:14CircuitBreakerAACAByxq_GSS4name_SSSg5groupSi7timeoutSi12resetTimeoutSi11maxFailuresSi13rollingWindowSi8bulkheadyAA10InvocationCyxq_Gc7commandyAA0B5ErrorV_q_tc8fallbacktcfc">init(name:group:timeout:resetTimeout:maxFailures:rollingWindow:bulkhead:command:fallback:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Initializes a CircuitBreaker instance with an asyncronous context command.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="nf">init</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span>
            <span class="nv">group</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span>
            <span class="nv">timeout</span><span class="p">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">,</span>
            <span class="nv">resetTimeout</span><span class="p">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">60000</span><span class="p">,</span>
            <span class="nv">maxFailures</span><span class="p">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
            <span class="nv">rollingWindow</span><span class="p">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">10000</span><span class="p">,</span>
            <span class="nv">bulkhead</span><span class="p">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
            <span class="nv">command</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="kt"><a href="../Classes/CircuitBreaker.html#/s:14CircuitBreakerAAC18AnyContextFunctiona">AnyContextFunction</a></span><span class="o">&lt;</span><span class="kt">A</span><span class="o">&gt;</span><span class="p">,</span>
            <span class="nv">fallback</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="kt"><a href="../Classes/CircuitBreaker.html#/s:14CircuitBreakerAAC11AnyFallbacka">AnyFallback</a></span><span class="o">&lt;</span><span class="kt">B</span><span class="o">&gt;</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>name</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Name of the CircuitBreaker instance.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>group</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Name of the CircuitBreaker group (optional).</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>timeout</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Execution timeout for command context. That is, the time in milliseconds that your function must
complete within before the invocation is considered a failure. Default is set to 1000 milliseconds.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>resetTimeout</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Time in milliseconds to wait before resetting the circuit to half open state. Default is
set to 60000 milliseconds.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>maxFailures</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Maximum number of failures allowed within <code><a href="../Classes/CircuitBreaker.html#/s:14CircuitBreakerAAC13rollingWindowSivp">rollingWindow</a></code> before opening the circuit.
Default is set to 5.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>rollingWindow</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Time window in milliseconds within which the maximum number of failures must occur to
trip the circuit. For instance, say <code><a href="../Classes/CircuitBreaker.html#/s:14CircuitBreakerAAC11maxFailuresSivp">maxFailures</a></code> is 5 and <code><a href="../Classes/CircuitBreaker.html#/s:14CircuitBreakerAAC13rollingWindowSivp">rollingWindow</a></code> is 10000 milliseconds. In such
a case, for the circuit to trip, 5 invocation failures must occur in a time window of 10 seconds, even if
these failures are not consecutive. Default is set to 10000 milliseconds.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>bulkhead</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Number representing the limit of concurrent requests running at one time. Default is 0,
which is equivalent to not using the bulk heading feature.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>command</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Contextual function to circuit break, which allows user defined failures
(the context provides an indirect reference to the corresponding circuit breaker instance).</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>fallback</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Function user specifies to signal timeout or fastFail completion.
Required format: <code>(BreakerError, (fallbackArg1, fallbackArg2,...)) -&gt; Void</code></p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Class%20Methods"></a>
                <a name="//apple_ref/swift/Section/Class Methods" class="dashAnchor"></a>
                <a href="#/Class%20Methods">
                  <h3 class="section-name">Class Methods</h3>
                </a>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14CircuitBreakerAAC3runyx11commandArgs_q_08fallbackE0tF"></a>
                    <a name="//apple_ref/swift/Method/run(commandArgs:fallbackArgs:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:14CircuitBreakerAAC3runyx11commandArgs_q_08fallbackE0tF">run(commandArgs:fallbackArgs:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Runs the circuit using the provided arguments.</p>
<h3 id='usage-example' class='heading'>Usage Example:</h3>

<p>The example below shows how to create and then run a circuit.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">breaker</span> <span class="o">=</span> <span class="kt">CircuitBreaker</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"Circuit1"</span><span class="p">,</span> <span class="nv">command</span><span class="p">:</span> <span class="n">myFunction</span><span class="p">,</span> <span class="nv">fallback</span><span class="p">:</span> <span class="n">myFallback</span><span class="p">)</span>
<span class="n">breaker</span><span class="o">.</span><span class="nf">run</span><span class="p">(</span><span class="nv">commandArgs</span><span class="p">:</span> <span class="p">(</span><span class="nv">a</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="nv">b</span><span class="p">:</span> <span class="mi">20</span><span class="p">),</span> <span class="nv">fallbackArgs</span><span class="p">:</span> <span class="s">"Something went wrong."</span><span class="p">)</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">run</span><span class="p">(</span><span class="nv">commandArgs</span><span class="p">:</span> <span class="kt">A</span><span class="p">,</span> <span class="nv">fallbackArgs</span><span class="p">:</span> <span class="kt">B</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>commandArgs</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Arguments of type <code>A</code> for the circuit command.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>fallbackArgs</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Arguments of type <code>B</code> for the circuit fallback.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14CircuitBreakerAAC11logSnapshotyyF"></a>
                    <a name="//apple_ref/swift/Method/logSnapshot()" class="dashAnchor"></a>
                    <a class="token" href="#/s:14CircuitBreakerAAC11logSnapshotyyF">logSnapshot()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Method to print current statistics.</p>
<h3 id='usage-example' class='heading'>Usage Example:</h3>

<p>The example below shows how to log a snapshot of the statistics for a given CircuitBreaker instance.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">breaker</span> <span class="o">=</span> <span class="kt">CircuitBreaker</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"Circuit1"</span><span class="p">,</span> <span class="nv">command</span><span class="p">:</span> <span class="n">myFunction</span><span class="p">,</span> <span class="nv">fallback</span><span class="p">:</span> <span class="n">myFallback</span><span class="p">)</span>
<span class="n">breaker</span><span class="o">.</span><span class="nf">run</span><span class="p">(</span><span class="nv">commandArgs</span><span class="p">:</span> <span class="p">(</span><span class="nv">a</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="nv">b</span><span class="p">:</span> <span class="mi">20</span><span class="p">),</span> <span class="nv">fallbackArgs</span><span class="p">:</span> <span class="s">"Something went wrong."</span><span class="p">)</span>
<span class="n">breaker</span><span class="o">.</span><span class="nf">logSnapshot</span><span class="p">()</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">logSnapshot</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14CircuitBreakerAAC9forceOpenyyF"></a>
                    <a name="//apple_ref/swift/Method/forceOpen()" class="dashAnchor"></a>
                    <a class="token" href="#/s:14CircuitBreakerAAC9forceOpenyyF">forceOpen()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Method to force the circuit open.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">forceOpen</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14CircuitBreakerAAC11forceClosedyyF"></a>
                    <a name="//apple_ref/swift/Method/forceClosed()" class="dashAnchor"></a>
                    <a class="token" href="#/s:14CircuitBreakerAAC11forceClosedyyF">forceClosed()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Method to force the circuit closed.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">forceClosed</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14CircuitBreakerAAC13forceHalfOpenyyF"></a>
                    <a name="//apple_ref/swift/Method/forceHalfOpen()" class="dashAnchor"></a>
                    <a class="token" href="#/s:14CircuitBreakerAAC13forceHalfOpenyyF">forceHalfOpen()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Method to force the circuit half open.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">forceHalfOpen</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14CircuitBreakerAAC10addMonitoryAA05StatsD0_p7monitor_tFZ"></a>
                    <a name="//apple_ref/swift/Method/addMonitor(monitor:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:14CircuitBreakerAAC10addMonitoryAA05StatsD0_p7monitor_tFZ">addMonitor(monitor:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Method to create a link to a StatsMonitor instance.</p>
<h3 id='usage-example' class='heading'>Usage Example:</h3>

<p>Given a monitor class called <code>exampleMonitor</code> which implements <code><a href="../Protocols/StatsMonitor.html">StatsMonitor</a></code> you can link this
monitor to CircuitBreaker as shown below. During the initialization of the CircuitBreaker instances
(circuit1 and circuit2) the linked monitor is notified of their instantiation thus allowing it to begin
tracking the statistics for both instances.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">monitor1</span> <span class="o">=</span> <span class="nf">exampleMonitor</span><span class="p">()</span>
<span class="kt">CircuitBreaker</span><span class="o">&lt;</span><span class="kt">Any</span><span class="p">,</span> <span class="kt">Any</span><span class="o">&gt;.</span><span class="nf">addMonitor</span><span class="p">(</span><span class="nv">monitor</span><span class="p">:</span> <span class="n">monitor1</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">circuit1</span> <span class="o">=</span> <span class="kt">CircuitBreaker</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"Circuit1"</span><span class="p">,</span> <span class="nv">command</span><span class="p">:</span> <span class="n">myContextFunction</span><span class="p">,</span> <span class="nv">fallback</span><span class="p">:</span> <span class="n">myFallback</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">circuit2</span> <span class="o">=</span> <span class="kt">CircuitBreaker</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"Circuit2"</span><span class="p">,</span> <span class="nv">command</span><span class="p">:</span> <span class="n">myContextFunction</span><span class="p">,</span> <span class="nv">fallback</span><span class="p">:</span> <span class="n">myFallback</span><span class="p">)</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">static</span> <span class="kd">func</span> <span class="nf">addMonitor</span><span class="p">(</span><span class="nv">monitor</span><span class="p">:</span> <span class="kt"><a href="../Protocols/StatsMonitor.html">StatsMonitor</a></span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14CircuitBreakerAAC8snapshotAA8SnapshotVvp"></a>
                    <a name="//apple_ref/swift/Property/snapshot" class="dashAnchor"></a>
                    <a class="token" href="#/s:14CircuitBreakerAAC8snapshotAA8SnapshotVvp">snapshot</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Property to compute a snapshot.</p>
<h3 id='usage-example' class='heading'>Usage Example:</h3>

<p>The example below shows how to compute a Hystrix compliant snapshot of the statistics for a given
CircuitBreaker instance.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">breaker</span> <span class="o">=</span> <span class="kt">CircuitBreaker</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"Circuit1"</span><span class="p">,</span> <span class="nv">command</span><span class="p">:</span> <span class="n">myFunction</span><span class="p">,</span> <span class="nv">fallback</span><span class="p">:</span> <span class="n">myFallback</span><span class="p">)</span>
<span class="n">breaker</span><span class="o">.</span><span class="nf">run</span><span class="p">(</span><span class="nv">commandArgs</span><span class="p">:</span> <span class="p">(</span><span class="nv">a</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="nv">b</span><span class="p">:</span> <span class="mi">20</span><span class="p">),</span> <span class="nv">fallbackArgs</span><span class="p">:</span> <span class="s">"Something went wrong."</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">snapshot</span> <span class="o">=</span> <span class="n">breaker</span><span class="o">.</span><span class="n">snapshot</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">snapshot</span><span class="p">:</span> <span class="kt"><a href="../Structs/Snapshot.html">Snapshot</a></span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

      </article>
    </div>
    <section class="footer">
      <p>&copy; 2018 <a class="link" href="" target="_blank" rel="external">IBM</a>. All rights reserved. (Last updated: 2018-09-12)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.9.1</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
